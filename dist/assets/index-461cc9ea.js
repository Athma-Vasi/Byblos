import{r as w,m as I,R as y,k as W,U as ke,J as $e,D as Pe,q as Oe,s as Ce,d as ze,K as se,a as s,G as $,g as V,I as Ie,a2 as Ee,a3 as Ne,j as P,F as z,T as q,B as je,P as De,t as F,a4 as Re,S as Te,a5 as Be,a6 as Ve,W as Ge,a7 as Z,c as ie,l as O,a8 as Ae}from"./index-031fa283.js";import{d as Fe}from"./index.esm-c48e3429.js";import{P as G}from"./Popover-411edea3.js";import{V as We}from"./VerticalSection-e631c6d8.js";import{I as Le,a as Me}from"./InlineInput-428f9b06.js";import{a as ce}from"./use-reduced-motion-017d389a.js";import"./get-default-z-index-b47c3510.js";import"./get-sorted-breakpoints-3bb72019.js";var Ue=Object.defineProperty,He=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,Qe=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable,X=(e,o,r)=>o in e?Ue(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,qe=(e,o)=>{for(var r in o||(o={}))Qe.call(o,r)&&X(e,r,o[r]);if(J)for(var r of J(o))Ye.call(o,r)&&X(e,r,o[r]);return e},Ze=(e,o)=>He(e,Ke(o));const Je={fixed:!1,position:{top:0,left:0,right:0}},le=w.forwardRef((e,o)=>{const r=I("Header",Je,e);return y.createElement(We,Ze(qe({section:"header",__staticSelector:"Header"},r),{ref:o}))});le.displayName="@mantine/core/Header";const Xe={xs:12,sm:18,md:24,lg:34,xl:42};var er=W((e,{size:o,color:r,transitionDuration:t})=>{const a=e.fn.size({size:o,sizes:Xe}),i=r||(e.colorScheme==="dark"?e.white:e.black);return{root:{borderRadius:e.radius.sm,width:`calc(${a}px + ${e.spacing.xs}px)`,height:`calc(${a}px + ${e.spacing.xs}px)`,padding:`calc(${e.spacing.xs}px / 2)`,cursor:"pointer"},burger:{position:"relative",userSelect:"none",boxSizing:"border-box","&, &::before, &::after":{display:"block",width:a,height:Math.ceil(a/12),backgroundColor:i,outline:"1px solid transparent",transitionProperty:"background-color, transform",transitionDuration:`${t}ms`,"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":void 0}},"&::before, &::after":{position:"absolute",content:'""',left:0},"&::before":{top:a/3*-1},"&::after":{top:a/3},"&[data-opened]":{backgroundColor:"transparent","&::before":{transform:`translateY(${a/3}px) rotate(45deg)`},"&::after":{transform:`translateY(-${a/3}px) rotate(-45deg)`}}}}});const rr=er;var or=Object.defineProperty,N=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,ee=(e,o,r)=>o in e?or(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,tr=(e,o)=>{for(var r in o||(o={}))de.call(o,r)&&ee(e,r,o[r]);if(N)for(var r of N(o))pe.call(o,r)&&ee(e,r,o[r]);return e},ar=(e,o)=>{var r={};for(var t in e)de.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&N)for(var t of N(e))o.indexOf(t)<0&&pe.call(e,t)&&(r[t]=e[t]);return r};const nr={size:"md",transitionDuration:300},ue=w.forwardRef((e,o)=>{const r=I("Burger",nr,e),{className:t,opened:a,color:i,size:l,classNames:d,styles:c,transitionDuration:p}=r,n=ar(r,["className","opened","color","size","classNames","styles","transitionDuration"]),{classes:f,cx:h}=rr({color:i,size:l,transitionDuration:p},{classNames:d,styles:c,name:"Burger"});return y.createElement(ke,tr({className:h(f.root,t),ref:o},n),y.createElement("div",{"data-opened":a||void 0,className:f.burger}))});ue.displayName="@mantine/core/Burger";var sr=W((e,{smallerThan:o,largerThan:r,query:t,styles:a})=>{const i={},l=e.fn.size({size:r,sizes:e.breakpoints}),d=e.fn.size({size:o,sizes:e.breakpoints}),c=typeof a=="function"?a(e):a;return r!==void 0&&o!==void 0?i[`@media (min-width: ${l}px) and (max-width: ${d-1}px)`]=c:(r!==void 0&&(i[`@media (min-width: ${e.fn.size({size:r,sizes:e.breakpoints})}px)`]=c),o!==void 0&&(i[`@media (max-width: ${e.fn.size({size:o,sizes:e.breakpoints})-1}px)`]=c)),t&&(i[`@media ${t}`]=c),{media:i}});const ir=sr;function fe(e){var o;const{children:r,smallerThan:t,largerThan:a,query:i,styles:l,className:d}=I("MediaQuery",{},e),{classes:c,cx:p}=ir({smallerThan:t,largerThan:a,query:i,styles:l},{name:"MediaQuery"}),n=w.Children.only(r);return typeof n=="object"&&n!==null&&"props"in n?y.cloneElement(n,{className:p(c.media,(o=n.props)==null?void 0:o.className,d)}):n}fe.displayName="@mantine/core/MediaQuery";const he=w.createContext(null),cr=he.Provider,lr=()=>w.useContext(he);var dr=Object.defineProperty,j=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable,re=(e,o,r)=>o in e?dr(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,oe=(e,o)=>{for(var r in o||(o={}))me.call(o,r)&&re(e,r,o[r]);if(j)for(var r of j(o))ge.call(o,r)&&re(e,r,o[r]);return e},pr=(e,o)=>{var r={};for(var t in e)me.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&j)for(var t of j(e))o.indexOf(t)<0&&ge.call(e,t)&&(r[t]=e[t]);return r};const ur={orientation:"horizontal",spacing:"lg",size:"sm",offset:"xs"},ye=w.forwardRef((e,o)=>{const r=I("SwitchGroup",ur,e),{children:t,value:a,defaultValue:i,onChange:l,orientation:d,spacing:c,size:p,wrapperProps:n,offset:f}=r,h=pr(r,["children","value","defaultValue","onChange","orientation","spacing","size","wrapperProps","offset"]),[v,k]=ce({value:a,defaultValue:i,finalValue:[],onChange:l}),m=u=>{const _=u.currentTarget.value;k(v.includes(_)?v.filter(C=>C!==_):[...v,_])};return y.createElement(cr,{value:{value:v,onChange:m,size:p}},y.createElement($e.Wrapper,oe(oe({labelElement:"div",size:p,__staticSelector:"SwitchGroup",ref:o},n),h),y.createElement(Le,{spacing:c,orientation:d,offset:f},t)))});ye.displayName="@mantine/core/SwitchGroup";var fr=Object.defineProperty,hr=Object.defineProperties,mr=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,gr=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable,ae=(e,o,r)=>o in e?fr(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,vr=(e,o)=>{for(var r in o||(o={}))gr.call(o,r)&&ae(e,r,o[r]);if(te)for(var r of te(o))yr.call(o,r)&&ae(e,r,o[r]);return e},br=(e,o)=>hr(e,mr(o));const wr={xs:16,sm:20,md:24,lg:30,xl:36},_r={xs:32,sm:38,md:46,lg:56,xl:72},xr={xs:12,sm:14,md:18,lg:22,xl:28},Sr={xs:5,sm:6,md:7,lg:9,xl:11},kr={xs:4,sm:5,md:6,lg:8,xl:10};var $r=W((e,{size:o,radius:r,color:t,labelPosition:a,error:i})=>{const l=e.fn.size({size:o,sizes:xr}),d=e.fn.size({size:r,sizes:e.radius}),c=e.fn.variant({variant:"filled",color:t}),p=e.fn.size({size:o,sizes:_r}),n=o==="xs"?1:2,f=e.fn.variant({variant:"filled",color:"red"}).background;return{input:{clip:"rect(1px, 1px, 1px, 1px)",height:0,width:0,overflow:"hidden",whiteSpace:"nowrap",padding:0,WebkitClipPath:"inset(50%)",clipPath:"inset(50%)",position:"absolute"},track:br(vr({},e.fn.focusStyles("input:focus + &")),{cursor:e.cursorType,overflow:"hidden",WebkitTapHighlightColor:"transparent",position:"relative",borderRadius:d,backgroundColor:e.colorScheme==="dark"?e.colors.dark[6]:e.colors.gray[2],border:`1px solid ${i?f:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[3]}`,height:e.fn.size({size:o,sizes:wr}),minWidth:p,margin:0,transitionProperty:"background-color, border-color",transitionTimingFunction:e.transitionTimingFunction,transitionDuration:"150ms",boxSizing:"border-box",appearance:"none",display:"flex",alignItems:"center",fontSize:e.fn.size({size:o,sizes:Sr}),fontWeight:600,order:a==="left"?2:1,userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none",zIndex:0,lineHeight:0,color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[6],transition:`color 150ms ${e.transitionTimingFunction}`,"input:checked + &":{backgroundColor:c.background,borderColor:c.background,color:e.white,transition:`color 150ms ${e.transitionTimingFunction}`},"input:disabled + &":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],cursor:"not-allowed"}}),thumb:{position:"absolute",zIndex:1,borderRadius:d,boxSizing:"border-box",display:"flex",backgroundColor:e.white,height:l,width:l,border:`1px solid ${e.colorScheme==="dark"?e.white:e.colors.gray[3]}`,left:`${n}px`,transition:`left 150ms ${e.transitionTimingFunction}`,"& > *":{margin:"auto"},"@media (prefers-reduced-motion)":{transitionDuration:e.respectReducedMotion?"0ms":""},"input:checked + * > &":{left:`calc(100% - ${l}px - ${n}px)`,borderColor:e.white},"input:disabled + * > &":{borderColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],backgroundColor:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[0]}},trackLabel:{height:"100%",display:"grid",placeContent:"center",minWidth:p-l,paddingInline:e.fn.size({size:o,sizes:kr}),margin:`0 0 0 ${l+n}px`,transition:`margin 150ms ${e.transitionTimingFunction}`,"input:checked + * > &":{margin:`0 ${l+n}px 0 0`}}}});const Pr=$r;var Or=Object.defineProperty,Cr=Object.defineProperties,zr=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,ne=(e,o,r)=>o in e?Or(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,A=(e,o)=>{for(var r in o||(o={}))ve.call(o,r)&&ne(e,r,o[r]);if(D)for(var r of D(o))be.call(o,r)&&ne(e,r,o[r]);return e},Ir=(e,o)=>Cr(e,zr(o)),Er=(e,o)=>{var r={};for(var t in e)ve.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&D)for(var t of D(e))o.indexOf(t)<0&&be.call(e,t)&&(r[t]=e[t]);return r};const Nr={offLabel:"",onLabel:"",size:"sm",radius:"xl",error:!1},L=w.forwardRef((e,o)=>{var r;const t=I("Switch",Nr,e),{className:a,color:i,label:l,offLabel:d,onLabel:c,id:p,style:n,size:f,radius:h,wrapperProps:v,children:k,unstyled:m,styles:u,classNames:_,thumbIcon:C,sx:g,checked:S,defaultChecked:b,onChange:M,labelPosition:U,description:we,error:H,disabled:K}=t,_e=Er(t,["className","color","label","offLabel","onLabel","id","style","size","radius","wrapperProps","children","unstyled","styles","classNames","thumbIcon","sx","checked","defaultChecked","onChange","labelPosition","description","error","disabled"]),x=lr(),{classes:E}=Pr({size:(x==null?void 0:x.size)||f,color:i,radius:h,labelPosition:U,error:!!H},{unstyled:m,styles:u,classNames:_,name:"Switch"}),{systemStyles:xe,rest:Q}=Pe(_e),R=Oe(p),T=x?{checked:x.value.includes(Q.value),onChange:x.onChange}:{},[Y,Se]=ce({value:(r=T.checked)!=null?r:S,defaultValue:b,finalValue:!1});return y.createElement(Me,A(A({className:a,sx:g,style:n,id:R,size:(x==null?void 0:x.size)||f,labelPosition:U,label:l,description:we,error:H,disabled:K,__staticSelector:"Switch",classNames:_,styles:u,unstyled:m,"data-checked":T.checked||void 0},xe),v),y.createElement("input",Ir(A({},Q),{disabled:K,checked:Y,onChange:B=>{x?T.onChange(B):M==null||M(B),Se(B.currentTarget.checked)},id:R,ref:o,type:"checkbox",className:E.input})),y.createElement("label",{htmlFor:R,className:E.track},y.createElement("div",{className:E.thumb},C),y.createElement("div",{className:E.trackLabel},Y?c:d)))});L.displayName="@mantine/core/Switch";L.Group=ye;function Wr({opened:e,setOpened:o,allStates:r,allActions:t,allDispatches:a}){const[i,l]=w.useState(""),[d,c]=w.useState(!1),p=Ce(),{width:n=0}=ze(),f=se(),{themeState:h,navlinksState:v}=r,{navlinksDispatch:k}=a;async function m(g){r.themeState.theme==="light"?a.themeDispatch({type:t.themeActions.setDarkTheme,payload:{themeState:{theme:"dark"}}}):a.themeDispatch({type:t.themeActions.setLightTheme,payload:{themeState:{theme:"light"}}})}async function u(g){if(g.key==="Enter"){c(S=>!S),window.scrollTo(0,0),F(v,Z,k);try{if(i==="")return;const S=`https://www.googleapis.com/books/v1/volumes?q=${i}&maxResults=40&startIndex=0&key=AIzaSyD-z8oCNZF8d7hRV6YYhtUuqgcBK22SeQI`,{data:b}=await ie.get(S);r.responseState.startIndex=0,r.responseState.searchTerm=i,r.responseState.searchResults=b,await O.setItem("byblos-startIndex",r.responseState.startIndex),await O.setItem("byblos-searchTerm",r.responseState.searchTerm),await O.setItem("byblos-searchResults",b),a.responseDispatch({type:Ae.setAll,payload:{responseState:{...r.responseState}}}),f("/home/displayResults")}catch(S){const b=new Error(S,{cause:"handleEnterKeyInput()"});console.group("Error in header search eventHandler"),console.error("name: ",b.name),console.error("message: ",b.message),console.error("cause: ",b.cause),console.groupCollapsed("stack trace"),console.trace(b),console.error("detailed stack trace",b.stack),console.groupEnd()}}}const _=[s($.Col,{span:2,style:{display:`${n<576?"none":""}`},children:s(V,{to:"/",children:s(Ie,{src:Ee,alt:"Byblos logo",width:n<992?50:75,"data-cy":"logo-header"})})}),s($.Col,{span:n<768?4:5,children:s(Ne,{allStates:r,allActions:t,allDispatches:a})})],C=s($.Col,{span:6,children:P(z,{direction:"row",align:"center",justify:"space-evenly",children:[s(z,{justify:"center",align:"center",children:s(V,{to:"/",style:{textDecoration:"none",color:h.theme==="light"?"#B06519":"#B87333"},children:s(q,{size:"lg",children:"Byblos"})})}),P(G,{width:350,position:"bottom",withArrow:!0,shadow:"md",opened:d,onChange:c,"data-cy":"dropdownArrow",children:[s(G.Target,{children:s(je,{variant:"subtle","data-cy":"dropdownArrow-button",onClick:()=>c(g=>!g),children:s(Fe,{size:26,"data-cy":"dropdownArrow-icon"})})}),s(G.Dropdown,{children:P(z,{gap:"md",justify:"center",align:"center",children:[s(De,{value:i,onChange:g=>{l(g.currentTarget.value)},size:"lg",rightSection:jr(i,l,c,r,t,a),rightSectionWidth:100,onKeyDown:u,"data-cy":"searchInput-mobile","data-autofocus":!0,color:h.theme==="light"?"dark.5":"gray.5",style:{color:"GrayText"}}),s(V,{to:"/home/advancedSearch",style:{textDecoration:"none",color:"GrayText",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>F(v,Z,k),children:s(Re,{size:22,style:{color:`${r.themeState.theme==="light"?"#B06519":"#B87333"}`},onClick:()=>{c(g=>!g),window.scrollTo(0,0)}})})]})})]})]})});return s(le,{height:{base:75,md:100},px:"md",py:n<576?"md":"sm",children:P($,{columns:9,align:"center",children:[s(fe,{largerThan:"sm",styles:{display:"none"},children:s($.Col,{span:1,children:s(ue,{opened:e,onClick:()=>o(g=>!g),size:"sm",color:h.theme==="light"?p.colors.brand[4]:p.colors.brand[8],mr:"sm","data-cy":"burger-header"})})}),n<576?C:_,s($.Col,{span:2,children:P(z,{align:"center",justify:"flex-end",children:[s(L,{size:n<992?"sm":"md",onChange:m,"data-cy":"themeSwitch"}),s(Te,{w:"sm"}),s(q,{color:h.theme==="light"?"dark.6":"gray.5",children:n<576?"":`${r.themeState.theme[0].toUpperCase()}${r.themeState.theme.slice(1)}`})]})})]})})}function jr(e,o,r,t,a,i){const l=se();let{responseState:d,navlinksState:c}=t,{responseActions:p,navlinksActions:n}=a,{responseDispatch:f,navlinksDispatch:h}=i;async function v(k){r(m=>!m),window.scrollTo(0,0),F(c,n,h);try{if(e==="")return;const m=`https://www.googleapis.com/books/v1/volumes?q=${e}&maxResults=40&startIndex=0&key=AIzaSyD-z8oCNZF8d7hRV6YYhtUuqgcBK22SeQI`,{data:u}=await ie.get(m);d.startIndex=0,d.searchTerm=e,d.searchResults=u,await O.setItem("byblos-startIndex",d.startIndex),await O.setItem("byblos-searchTerm",d.searchTerm),await O.setItem("byblos-searchResults",u),f({type:p.setAll,payload:{responseState:{...d}}}),l("/home/displayResults")}catch(m){const u=new Error(m,{cause:"handleSearchIconClick()"});console.group("Error in header search rightInputSection() eventHandler"),console.error("name: ",u.name),console.error("message: ",u.message),console.error("cause: ",u.cause),console.groupCollapsed("stack trace"),console.trace(u),console.error("detailed stack trace",u.stack),console.groupEnd()}}return P(z,{gap:"xs",children:[e===""?"":s(Be,{style:{color:`${t.themeState.theme==="light"?"#B06519":"#B87333"}`,transform:"scale(1.5)",cursor:"pointer"},onClick:()=>{o("")}}),e===""?"":s(Ve,{style:{color:`${t.themeState.theme==="light"?"#B06519":"#B87333"}`,transform:"scale(1.5)"}}),s(Ge,{style:{color:`${t.themeState.theme==="light"?"#B06519":"#B87333"}`,transform:"scale(1.25)",cursor:"pointer"},onClick:v})]})}export{Wr as default};
